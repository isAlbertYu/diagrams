<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="confluence.senseauto.com" modified="2022-04-27T12:38:00.550Z" agent="5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36" etag="jgrEq7oi1CbA1oiKxvHi" version="14.9.9" type="atlas"><mxAtlasLibraries/>&#xa;  <diagram id="1UpgEz8TLfyLRfQRey2A" name="第 1 页">&#xa;    <mxGraphModel dx="2557" dy="1199" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">&#xa;      <root>&#xa;        <mxCell id="0"/>&#xa;        <mxCell id="1" parent="0"/>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">&#xa;          <mxGeometry x="382.5" y="-170" width="220" height="190" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-9" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">&#xa;          <mxGeometry x="500" y="685" width="220" height="190" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-54" target="3Dnx1QEfVS713T32sfTH-56" edge="1">&#xa;          <mxGeometry relative="1" as="geometry">&#xa;            <mxPoint x="102.5" y="200" as="targetPoint"/>&#xa;          </mxGeometry>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-54" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;" parent="1" vertex="1">&#xa;          <mxGeometry x="-150" y="260" width="485" height="420" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-1" target="3Dnx1QEfVS713T32sfTH-3" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-1" value="创建并启动pod实例" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">&#xa;          <mxGeometry y="-265" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-3" target="3Dnx1QEfVS713T32sfTH-4" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-3" value="启动worker进程，并输出进程日志至指定的日志文件my.log" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry y="-185" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-4" target="3Dnx1QEfVS713T32sfTH-27" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-4" target="QgOnSziv9E4xD_3yYaJG-3" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-4" value="worker在Redis中注册" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry y="-105" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-7" target="3Dnx1QEfVS713T32sfTH-8" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-7" value="Redis创建hashmap，&lt;br&gt;存放worker info&amp;nbsp;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="402.5" y="-130" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-8" value="Redis将workerId加入job list" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="402.5" y="-50" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-24" target="3Dnx1QEfVS713T32sfTH-54" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-24" value="从Redis中读取case" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="180" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-26" target="3Dnx1QEfVS713T32sfTH-33" edge="1">&#xa;          <mxGeometry relative="1" as="geometry">&#xa;            <Array as="points">&#xa;              <mxPoint x="-22.5" y="670"/>&#xa;              <mxPoint x="-132.5" y="670"/>&#xa;              <mxPoint x="-132.5" y="300"/>&#xa;              <mxPoint x="-22.5" y="300"/>&#xa;            </Array>&#xa;          </mxGeometry>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-26" value="Redis暂存表载入Redis消息队列" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-112.5" y="575" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-27" target="ZB_TXO9uHJqRubq8sqKG-41" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-27" target="ZB_TXO9uHJqRubq8sqKG-40" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-27" target="ZB_TXO9uHJqRubq8sqKG-53" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-27" target="QgOnSziv9E4xD_3yYaJG-15" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-27" target="DaJpehMCtzPWkLmVq0HP-7" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-27" value="启动worker进程的若干子任务" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry y="-20" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-30" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="-22.5" y="440" width="40" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-31" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="-22.5" y="545" width="40" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-32" target="3Dnx1QEfVS713T32sfTH-26" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-32" target="3Dnx1QEfVS713T32sfTH-48" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-32" value="&lt;span&gt;判断Redis暂存表是否为空&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-112.5" y="460" width="180" height="80" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-33" target="3Dnx1QEfVS713T32sfTH-32" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-33" target="3Dnx1QEfVS713T32sfTH-43" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-33" value="读取Redis消息队列，&lt;br&gt;判断是否为空" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-112.5" y="350" width="180" height="80" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-43" target="3Dnx1QEfVS713T32sfTH-48" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-43" value="读出case，并写入暂存表" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="137.5" y="360" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-45" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="82.5" y="370" width="40" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-48" value="返回" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">&#xa;          <mxGeometry x="137.5" y="470" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-51" value="是，返回空" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="67.5" y="480" width="62.5" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-52" value="返回case" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="227.5" y="430" width="60" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-53" value="Lua原子脚本" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="-150" y="260" width="80" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-56" target="3Dnx1QEfVS713T32sfTH-57" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-56" target="3Dnx1QEfVS713T32sfTH-58" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-56" value="&lt;span&gt;判断返回的case是否为空&lt;/span&gt;" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="740" width="180" height="80" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-57" target="QgOnSziv9E4xD_3yYaJG-9" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-57" target="QgOnSziv9E4xD_3yYaJG-13" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-57" value="worker在Redis中注销" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="242.5" y="750" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3Dnx1QEfVS713T32sfTH-58" target="ZB_TXO9uHJqRubq8sqKG-18" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="3Dnx1QEfVS713T32sfTH-58" value="从case取出case uuid" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="860" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-7" value="是" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="183.5" y="760" width="40" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-16" value="否" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="97.5" y="830" width="40" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-18" target="ZB_TXO9uHJqRubq8sqKG-20" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-18" value="根据uuid，从数据平台下载数据" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="950" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="Krw5buXLknHAcmFV3BJg-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-20" target="Krw5buXLknHAcmFV3BJg-2" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-20" value="传入下载数据，执行仿真脚本" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="1030" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="Ol95af4_cKCggFYaqu5X-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-21" target="3Dnx1QEfVS713T32sfTH-24" edge="1">&#xa;          <mxGeometry relative="1" as="geometry">&#xa;            <Array as="points">&#xa;              <mxPoint x="94" y="1270"/>&#xa;              <mxPoint x="94" y="1290"/>&#xa;              <mxPoint x="-200" y="1290"/>&#xa;              <mxPoint x="-200" y="210"/>&#xa;            </Array>&#xa;          </mxGeometry>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-21" value="本轮执行完毕" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">&#xa;          <mxGeometry x="3.5" y="1200" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-40" target="ZB_TXO9uHJqRubq8sqKG-45" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-40" value="接收日志请求时，创建goroutine 1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">&#xa;          <mxGeometry x="-400" y="90" width="120" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-41" target="3Dnx1QEfVS713T32sfTH-24" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-41" value="goroutine 2" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">&#xa;          <mxGeometry x="30" y="90" width="120" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-45" target="ZB_TXO9uHJqRubq8sqKG-46" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-45" value="创建EventSource" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-430" y="170" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="ZB_TXO9uHJqRubq8sqKG-46" target="ZB_TXO9uHJqRubq8sqKG-47" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-46" value="流式读取日志文件my.log" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-430" y="250" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-47" value="返回EvevtStream" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-430" y="330" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="ZB_TXO9uHJqRubq8sqKG-53" value="goroutine ... N" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">&#xa;          <mxGeometry x="700" y="90" width="120" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="Krw5buXLknHAcmFV3BJg-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Krw5buXLknHAcmFV3BJg-2" target="ZB_TXO9uHJqRubq8sqKG-21" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="Krw5buXLknHAcmFV3BJg-2" value="执行结果写入消息队列" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="2.5" y="1120" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-4" value="Lua原子脚本" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="382.5" y="-170" width="80" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="QgOnSziv9E4xD_3yYaJG-7" target="QgOnSziv9E4xD_3yYaJG-8" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-7" value="Redis删除worker info的&lt;br&gt;hashmap" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="520" y="725" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-8" value="Redis将workerId从job list中&lt;br&gt;删除" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="520" y="805" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-10" value="Lua原子脚本" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="500" y="685" width="80" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-13" value="worker退出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">&#xa;          <mxGeometry x="242.5" y="860" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="QgOnSziv9E4xD_3yYaJG-15" target="QgOnSziv9E4xD_3yYaJG-16" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-15" value="goroutine 3" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">&#xa;          <mxGeometry x="432.5" y="90" width="120" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="QgOnSziv9E4xD_3yYaJG-16" target="QgOnSziv9E4xD_3yYaJG-17" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-16" value="定期在Redis中进行&lt;br&gt;心跳更新" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="402.5" y="180" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="QgOnSziv9E4xD_3yYaJG-17" value="Redis更新worker info hashmap中的heartBeatTime值" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="402.5" y="270" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="DaJpehMCtzPWkLmVq0HP-7" target="DaJpehMCtzPWkLmVq0HP-9" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-7" value="主协程&lt;br&gt;goroutine 0" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">&#xa;          <mxGeometry x="-720" y="90" width="120" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="JNefhKNnQIlV75OX9U3q-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="DaJpehMCtzPWkLmVq0HP-9" target="DaJpehMCtzPWkLmVq0HP-14" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-9" value="监听SIGINT/SIGKILL/SIGTERM等信号" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-750" y="170" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-11" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">&#xa;          <mxGeometry x="-1010" y="185" width="220" height="190" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="DaJpehMCtzPWkLmVq0HP-14" target="DaJpehMCtzPWkLmVq0HP-19" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="DaJpehMCtzPWkLmVq0HP-14" target="DaJpehMCtzPWkLmVq0HP-11" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-14" value="worker在Redis中注销" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-750" y="250" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="DaJpehMCtzPWkLmVq0HP-16" target="DaJpehMCtzPWkLmVq0HP-17" edge="1">&#xa;          <mxGeometry relative="1" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-16" value="Redis删除worker info的&lt;br&gt;hashmap" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-990" y="225" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-17" value="Redis将workerId从job list中&lt;br&gt;删除" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">&#xa;          <mxGeometry x="-990" y="305" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-18" value="Lua原子脚本" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">&#xa;          <mxGeometry x="-1010" y="185" width="80" height="20" as="geometry"/>&#xa;        </mxCell>&#xa;        <mxCell id="DaJpehMCtzPWkLmVq0HP-19" value="worker退出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">&#xa;          <mxGeometry x="-750" y="330" width="180" height="60" as="geometry"/>&#xa;        </mxCell>&#xa;      </root>&#xa;    </mxGraphModel>&#xa;  </diagram>&#xa;</mxfile>
